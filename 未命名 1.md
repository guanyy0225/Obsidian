好的，曲率公式的推导有多种方法，但最核心的思想是**“单位切向量对弧长的变化率”**。这个定义抓住了“曲线方向变化有多快”的本质。

我将从最基本的定义出发，逐步推导出参数方程形式和显函数形式的曲率公式。

---

### **核心定义：曲率是方向的转动速率**

想象一下你沿着一条曲线行走，你的前进方向（切线方向）在不断变化。如果你走得很慢，方向变化也很快，说明曲线很弯曲；反之，如果走了很远，方向才变化一点点，说明曲线很平缓。

这个“方向变化快慢”可以用数学语言描述：

1.  **方向**：用单位切向量 `T` 来表示。
2.  **行走距离**：用弧长 `s` 来表示。
3.  **变化率**：就是求导。

因此，曲率 `K` 的严格定义是：**单位切向量 `T` 对弧长 `s` 的导数的模（大小）**。

`K = |dT/ds|`

这个定义非常直观，但直接用它来计算很不方便，因为我们通常不知道弧长 `s` 和 `T` 的函数关系。所以，我们需要把它转换成用我们熟悉的坐标 `x, y` 或参数 `t` 来表示。

---

### **1. 推导参数方程的曲率公式**

假设曲线由参数方程 `{ x = x(t), y = y(t) }` 给出。

**Step 1: 找到单位切向量 T**

*   位置向量 `r(t) = (x(t), y(t))`。
*   对 `t` 求导得到切向量：`dr/dt = (x'(t), y'(t))`。
*   切向量的模（速率）：`|dr/dt| = √((x')² + (y')²)`。
    `T = (dr/dt) / |dr/dt| = (x', y') / √((x')² + (y')²)`

**Step 2: 计算 dT/dt**

现在，我们利用链式法则来连接 `dT/ds` 和 `dT/dt`：
`dT/ds = (dT/dt) / (ds/dt)`

所以，`K = |dT/ds| = |dT/dt| / (ds/dt)`。

我们先计算 `dT/dt`。这是一个对向量 `T` 的商式求导，过程比较繁琐：

`dT/dt = d/dt [ (x', y') / ((x')² + (y')²)^(1/2) ]`

使用向量的商式求导法则 `(u/v)' = (u'v - uv') / v²`：
*   分子 `u = (x', y')`，`u' = (x'', y'')`。
*   分母 `v = ((x')² + (y')²)^(1/2)`，`v' = (1/2)((x')² + (y')²)^(-1/2) * (2x'x'' + 2y'y'') = (x'x'' + y'y'') / ((x')² + (y')²)^(1/2)`。

将 `u, u', v, v'` 代入，经过复杂的代数化简（这里省略具体步骤，但核心是通分和合并同类项），可以得到 `dT/dt` 的分子部分会变成一个叉积的形式：
`dT/dt` 的分子是 `(x''y' - x'y'') * (-y', x')`
`dT/dt` 的分母是 `((x')² + (y')²)^(3/2)`

所以，`dT/dt = (x''y' - x'y'') / ((x')² + (y')²)^(3/2) * (-y', x')`

**Step 3: 计算 |dT/dt|**

我们来求 `dT/dt` 的模：
`|dT/dt| = |(x''y' - x'y'') / ((x')² + (y')²)^(3/2)| * |(-y', x')|`

*   `|(-y', x')| = √((-y')² + (x')²) = √((x')² + (y')²)`

所以，
`|dT/dt| = |x''y' - x'y''| / ((x')² + (y')²)^(3/2) * √((x')² + (y')²)`
`|dT/dt| = |x''y' - x'y''| / ((x')² + (y')²)`

**Step 4: 计算最终曲率 K**

回到 `K = |dT/dt| / (ds/dt)`。
我们有 `ds/dt = √((x')² + (y')²)`。

`K = [ |x''y' - x'y''| / ((x')² + (y')²) ] / √((x')² + (y')²)`
`K = |x''y' - x'y''| / ( (x')² + (y')² )^(3/2)`
（通常写成 `|x'y'' - x''y'|`，因为绝对值内部的正负号不影响结果）

**这就得到了参数方程的曲率公式。**

---

### **2. 推导显函数 `y = f(x)` 的曲率公式**

显函数 `y = f(x)` 可以看作是一个特殊的参数方程，其中参数就是 `x` 本身。

令 `t = x`，则参数方程为：
`{ x(t) = t, y(t) = f(t) }`

现在我们来求它的一阶和二阶导数：

*   `x' = dx/dt = dx/dx = 1`
*   `x'' = d/dt(1) = d/dx(1) = 0`

*   `y' = dy/dt = dy/dx = f'(x)` (这里第一个 `y'` 是对 `t` 求导，后面是习惯的对 `x` 求导)
*   `y'' = d/dt(y') = d/dx(dy/dx) = f''(x)`

现在，把这四个值代入我们刚刚推导出的参数方程曲率公式：
`K = |x'y'' - x''y'| / ( (x')² + (y')² )^(3/2)`
`K = |(1)(f''(x)) - (0)(f'(x))| / ( (1)² + (f'(x))² )^(3/2)`
`K = |f''(x)| / (1 + [f'(x)]²)^(3/2)`

为了书写方便，通常写成：
`K = |y''| / (1 + (y')²)^(3/2)`

**这就得到了显函数的曲率公式。**

---

### 另一种基于切线转角的推导（几何方法）

这种方法更直观，但严谨性上需要一些极限论证。

1.  设曲线上某点 `P` 的切线与 x 轴的夹角为 `α`，那么 `tan(α) = y'`。
2.  曲率 `K` 可以被定义为**切线转角 `α` 对弧长 `s` 的变化率**，即 `K = |dα/ds|`。
3.  利用链式法则： `dα/ds = (dα/dx) / (ds/dx)`。
4.  计算 `dα/dx`：
    对 `tan(α) = y'` 两边关于 `x` 求导：
    `sec²(α) * dα/dx = y''`
    `dα/dx = y'' / sec²(α) = y'' / (1 + tan²(α)) = y'' / (1 + (y')²)`
5.  计算 `ds/dx`：
    根据弧长微元公式 `ds² = dx² + dy²`，两边同除以 `dx²`：
    `(ds/dx)² = 1 + (dy/dx)² = 1 + (y')²`
    所以 `ds/dx = √(1 + (y')²)`。（假设 `x` 增加时 `s` 也增加）
6.  将 `dα/dx` 和 `ds/dx` 代入：
    `K = |dα/ds| = | (y'' / (1 + (y')²)) / √(1 + (y')²) |`
    `K = |y''| / (1 + (y')²)^(3/2)`

这两种推导方法从不同的角度出发，但最终都得到了相同的公式，验证了其正确性。